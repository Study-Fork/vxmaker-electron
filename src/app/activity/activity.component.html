<div style="background: #ff0000;width:100%;height:100%; position:absolute;" (window:resize)="onResize($event)">

    <div id="topSide" class="navbar" *ngIf="activityMetaData" style="height:80px;">
        <button class="btn-back" (click)="clickBack()">â—„ Back</button>
        <input type="text" [(ngModel)]="activityMetaData.activityName" (blur)="changeActivityName()" />
        <div class="nav-right">
            <app-device-status (onClickSendDevice)="onClickSendDevice()"></app-device-status>
        </div>
    </div>


    <div style="position:absolute; background: #4455ff; width: 100%; top: 0;bottom: 0; margin-top: 80px;">

        <div style="float: left;  width:200px; height: 100%; background: #ffffff; overflow-y: scroll;">
            <app-object-tree #objectTree (onChangeNode)="onChangeNodeFromTree($event)" (onClickNewFile)="clickNewFile($event)" (onSelectNode)="onSelectNodeFromTree($event)"></app-object-tree>
            <app-object-new #objectNew (onShowResourceDialog)="onShowResourceDialog($event)" (onClickNewObject)="clickNewObject($event)" (onChangeTreeData)="changeTreeData($event)"></app-object-new>
        </div>
        <div style="float:left; overflow-x: scroll; overflow-y: scroll;" [style.width]="getPreviewWidth()" [style.height]="getPreviewHeight()">
            <app-stage-list #stageList (onSelectStage)="onSelectStage($event)" (onNewStage)="onNewStage()"></app-stage-list>
            <app-preview #previewCanvas (onShowResourceDialog)="onShowResourceDialog($event)"></app-preview>

        </div>




        <div id="rightSide" style="float: right; width:200px; height:100%; background: #ff0055; overflow-y: scroll;">

            <app-preview-size #previewSize></app-preview-size>
            <app-object-property #objectProperty (onShowResourceDialog)="onShowResourceDialog($event)" (onChangeTreeData)="changePropertyData($event)"></app-object-property>
            <app-event-list #eventList (onNewEvent)="onNewEvent($event)" (onClickDetailEvent)="onClickDetailEvent($event)"></app-event-list>
            <app-event-detail-stage-change #eventDetailStageChange (onNewAfterAnimationEvent)="onNewAfterAnimationEvent($event)" (onCloseEvent)="onCloseEvent($event)"></app-event-detail-stage-change>
            <app-event-detail-start-activity #eventDetailStartActivity></app-event-detail-start-activity>
            <app-event-detail-finish-activity #eventDetailFinishActivity></app-event-detail-finish-activity>

        </div>
    </div>
</div>

<app-resource #resourceDialog (onSelectFile)="onSelectFile($event)"></app-resource>
<app-event-generator #eventGenerator (onCompleteEvent)="onCompleteEvent($event)"></app-event-generator>